{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_4cE17S90WSsTbHmoTpSGVg6M02m3QTLjOZomeFIBAhuSv4CrP0UGBHOvFaZpMJkP';\n\nexport const fetchBreeds = async () => {\n  try {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to fetch breeds');\n  }\n};\n\nexport const fetchCatByBreed = async breedId => {\n  try {\n    const response = await axios.get(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n    );\n    return response.data[0];\n  } catch (error) {\n    throw new Error('Failed to fetch cat information');\n  }\n};\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const breedSelect = document.getElementById('breed-select');\n  const loader = document.getElementById('loader');\n  const error = document.getElementById('error');\n  const catInfo = document.getElementById('cat-info');\n\n  const showLoader = () => (loader.style.display = 'block');\n  const hideLoader = () => (loader.style.display = 'none');\n  const showError = message => {\n    error.textContent = message;\n    error.style.display = 'block';\n  };\n  const hideError = () => (error.style.display = 'none');\n\n  const loadBreeds = async () => {\n    try {\n      showLoader();\n      hideError();\n      const breeds = await fetchBreeds();\n      breedSelect.innerHTML = breeds\n        .map(breed => `<option value=\"${breed.id}\">${breed.name}</option>`)\n        .join('');\n      new SlimSelect({ select: '#breed-select' });\n      breedSelect.style.display = 'block';\n    } catch (error) {\n      showError(error.message);\n    } finally {\n      hideLoader();\n      breedSelect.style.display = 'none';\n    }\n  };\n\n  const loadCatInfo = async breedId => {\n    try {\n      showLoader();\n      hideError();\n      catInfo.style.display = 'none';\n      const cat = await fetchCatByBreed(breedId);\n      if (!cat || cat.length === 0) {\n        showError('There is no information about this cat');\n        return;\n      }\n      catInfo.innerHTML = `\n        <div class=\"cat-image\">\n          <img src=\"${cat.url}\" alt=\"${cat.breeds[0].name}\">\n        </div>\n        <div class=\"cat-details\">\n          <h2>${cat.breeds[0].name}</h2>\n          <p>${cat.breeds[0].description}</p>\n          <p><strong>Temperament:</strong> ${cat.breeds[0].temperament}</p>\n        </div>\n`;\n\n      catInfo.style.display = 'flex';\n    } catch (error) {\n      showError(error.message);\n    } finally {\n      hideLoader();\n    }\n  };\n\n  breedSelect.addEventListener('change', e => {\n    const breedId = e.target.value;\n    if (breedId) {\n      loadCatInfo(breedId);\n    }\n  });\n\n  await loadBreeds();\n});\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","breedSelect","loader","error","catInfo","showLoader","hideLoader","showError","message","hideError","loadBreeds","breeds","breed","loadCatInfo","cat","e"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,MAAMC,EAAc,SAAY,CACrC,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IACjB,MAAe,CACd,MAAM,IAAI,MAAM,wBAAwB,CACzC,CACH,EAEaE,EAAkB,MAAMC,GAAW,CAC9C,GAAI,CAIF,OAHiB,MAAMH,EAAM,IAC3B,wDAAwDG,CAAO,EACrE,GACoB,KAAK,CAAC,CACvB,MAAe,CACd,MAAM,IAAI,MAAM,iCAAiC,CAClD,CACH,ECrBA,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,MAAMC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAQ,SAAS,eAAe,OAAO,EACvCC,EAAU,SAAS,eAAe,UAAU,EAE5CC,EAAa,IAAOH,EAAO,MAAM,QAAU,QAC3CI,EAAa,IAAOJ,EAAO,MAAM,QAAU,OAC3CK,EAAYC,GAAW,CAC3BL,EAAM,YAAcK,EACpBL,EAAM,MAAM,QAAU,OAC1B,EACQM,EAAY,IAAON,EAAM,MAAM,QAAU,OAEzCO,EAAa,SAAY,CAC7B,GAAI,CACFL,IACAI,IACA,MAAME,EAAS,MAAMb,IACrBG,EAAY,UAAYU,EACrB,IAAIC,GAAS,kBAAkBA,EAAM,EAAE,KAAKA,EAAM,IAAI,WAAW,EACjE,KAAK,EAAE,EACV,IAAI,WAAW,CAAE,OAAQ,eAAiB,CAAA,EAC1CX,EAAY,MAAM,QAAU,OAC7B,OAAQE,EAAO,CACdI,EAAUJ,EAAM,OAAO,CAC7B,QAAc,CACRG,IACAL,EAAY,MAAM,QAAU,MAC7B,CACL,EAEQY,EAAc,MAAMb,GAAW,CACnC,GAAI,CACFK,IACAI,IACAL,EAAQ,MAAM,QAAU,OACxB,MAAMU,EAAM,MAAMf,EAAgBC,CAAO,EACzC,GAAI,CAACc,GAAOA,EAAI,SAAW,EAAG,CAC5BP,EAAU,wCAAwC,EAClD,MACD,CACDH,EAAQ,UAAY;AAAA;AAAA,sBAEJU,EAAI,GAAG,UAAUA,EAAI,OAAO,CAAC,EAAE,IAAI;AAAA;AAAA;AAAA,gBAGzCA,EAAI,OAAO,CAAC,EAAE,IAAI;AAAA,eACnBA,EAAI,OAAO,CAAC,EAAE,WAAW;AAAA,6CACKA,EAAI,OAAO,CAAC,EAAE,WAAW;AAAA;AAAA,EAIhEV,EAAQ,MAAM,QAAU,MACzB,OAAQD,EAAO,CACdI,EAAUJ,EAAM,OAAO,CAC7B,QAAc,CACRG,GACD,CACL,EAEEL,EAAY,iBAAiB,SAAUc,GAAK,CAC1C,MAAMf,EAAUe,EAAE,OAAO,MACrBf,GACFa,EAAYb,CAAO,CAEzB,CAAG,EAED,MAAMU,EAAU,CAClB,CAAC"}